<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
    
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="de" >
  
  <head>
    <title>3Quarks - Segment Display</title>
  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="author" content="Rüdiger Appel" />
    <meta name="keywords" content="3Quarks, JavaScript, js, Segment Display, Seven-segment display, 7-Segment display, 14-Segment display, 16-Segment diplay" />
    <meta name="description" content="Design your own segment display with this Web App. Choose between 7, 14 or 16 segments, experiment with the settings for the geometry, colors and output formats." />
    <meta name="robots" content="all" />
    
    <link type="image/x-icon" rel="Shortcut Icon" href="http://www.3quarks.com/favicon.ico" /> 
    <link type="text/css" rel="stylesheet" href="../../stylesheets/ui-lightness/jquery-ui-1.8.18.custom.css" />  
    <link type="text/css" rel="stylesheet" href="../../stylesheets/base.css" />
    <!--[if lt IE 9]>
      <link type="text/css" rel="stylesheet" href="../../stylesheets/stupid-ie.css" />
    <![endif]-->

    <style type="text/css">  
    
      .settings td {
        padding: 0.2em 1.5em 0.2em 0;
      }
      
      .settings input {
        text-align: right;
      }
      
      .settings select {
        width: 170px;
      }
      
      .settings .slider {
        width: 170px;
      }
      
      .settings .swatch {
        width: 59px;
        height: 59px;
        margin-left: 4em;
        border-radius: 9px;
        -webkit-border-radius: 9px;
        -moz-border-radius: 9px;
      }
      
      .settings .sample {
        cursor: pointer;
        float: left;
        position: relative;
        margin: 0 15px 15px 0;
        width: 59px;
        height: 59px;
        border-radius: 9px;
        -webkit-border-radius: 9px;
        -moz-border-radius: 9px;
      }
      
      .settings .sample .off {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 29px;
        height: 29px;
        border-radius: 6px;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
      }
      
      .settings .sample .on {
        position: absolute;
        top: 10px;
        left: 10px;
        width: 29px;
        height: 29px;
        border-radius: 6px;
        -webkit-border-radius: 6px;
        -moz-border-radius: 6px;
      }
      
      #page .topic .body h3 {
        margin: 0.5em 0 0 0;
        padding: 1em 0.5em 0.5em 0;
        border-top: 1px solid rgba(69, 92, 113, 0.5);
      }
      
      #backgroundRed   .ui-slider-range  { background:   #e2001a; }
      #backgroundRed   .ui-slider-handle { border-color: #e2001a; }
      #backgroundGreen .ui-slider-range  { background:   #009036; }
      #backgroundGreen .ui-slider-handle { border-color: #009036; }
      #backgroundBlue  .ui-slider-range  { background:   #004a99; }
      #backgroundBlue  .ui-slider-handle { border-color: #004a99; }
      #segmentOnRed    .ui-slider-range  { background:   #e2001a; }
      #segmentOnRed    .ui-slider-handle { border-color: #e2001a; }
      #segmentOnGreen  .ui-slider-range  { background:   #009036; }
      #segmentOnGreen  .ui-slider-handle { border-color: #009036; }
      #segmentOnBlue   .ui-slider-range  { background:   #004a99; }
      #segmentOnBlue   .ui-slider-handle { border-color: #004a99; }
      #segmentOffRed   .ui-slider-range  { background:   #e2001a; }
      #segmentOffRed   .ui-slider-handle { border-color: #e2001a; }
      #segmentOffGreen .ui-slider-range  { background:   #009036; }
      #segmentOffGreen .ui-slider-handle { border-color: #009036; }
      #segmentOffBlue  .ui-slider-range  { background:   #004a99; }
      #segmentOffBlue  .ui-slider-handle { border-color: #004a99; }
      
    </style>

    <script type="text/javascript" src="../../javascripts/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../../javascripts/jquery-ui-1.8.18.custom.min.js"></script>
    <script type="text/javascript" src="../../javascripts/background.js"></script>
    <script type="text/javascript" src="../../javascripts/sidebar.js"></script>
    <script type="text/javascript" src="../../javascripts/formatter.js"></script>
    <script type="text/javascript" src="../../javascripts/iphone.js"></script>
    <script type="text/javascript" src="../../javascripts/segment-display.js"></script>
    
    <!--[if IE]>
      <script type="text/javascript" src="../../javascripts/excanvas.js"></script>
    <![endif]-->
    
    <script type="text/javascript">
      
      var display = new SegmentDisplay('display');
      display.pattern         = '##:##:##';
      display.segmentCount    = SegmentDisplay.SevenSegment
      display.cornerType      = SegmentDisplay.RoundedCorner;
      display.digitHeight     = 20;
      display.digitWidth      = 14;
      display.digitDistance   = 2.5;
      display.displayAngle    = 6;
      display.segmentWidth    = 2;
      display.segmentDistance = 0.3;
      display.colorOn         = 'rgb(233, 93, 15)';
      display.colorOff        = 'rgb(75, 30, 5)';
      
      var sketch  = new SegmentDisplay('sketch');
      sketch.pattern         = '#';
      sketch.value           = '#';
      sketch.segmentCount    = display.segmentCount;
      sketch.cornerType      = display.cornerType;
      sketch.digitHeight     = display.digitHeight;
      sketch.digitWidth      = display.digitWidth;
      sketch.digitDistance   = display.digitDistance;
      sketch.displayAngle    = display.displayAngle;
      sketch.segmentWidth    = display.segmentWidth;
      sketch.segmentDistance = display.segmentDistance;
      sketch.colorOn         = '#333';
 
      $(document).ready(function() {  
        display.draw();
        sketch.draw();
        window.setInterval('animate()', 100);
 
        // sliders
        $('#digitHeight, #digitWidth').slider({ 
          min: 0, max: 50, step: 0.5, range: "min", animate: true, 
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(2)); updateDisplay() }
        });
        $('#digitDistance').slider({ 
          min: 0, max: 10, step: 0.1, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(2)); updateDisplay() }
        });
        $('#displayAngle').slider({ 
          min: -30, max: +30, step: 0.5, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(2)); updateDisplay() }
        });
        $('#segmentWidth, #segmentDistance').slider({ 
          min: 0, max: 5, step: 0.1, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(2)); updateDisplay() }
        });
        $('#backgroundRed, #backgroundGreen, #backgroundBlue').slider({
          min: 0, max: 255, step: 1, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(0)); updateBackgroundColor() }
        });
        $('#segmentOnRed, #segmentOnGreen, #segmentOnBlue').slider({
          min: 0, max: 255, step: 1, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(0)); updateSegmentColor('On') }
        });
        $('#segmentOffRed, #segmentOffGreen, #segmentOffBlue').slider({
          min: 0, max: 255, step: 1, range: "min", animate: true,
          slide: function(event, ui) { $('input[name=' + this.id + ']').val(ui.value.format(0)); updateSegmentColor('Off') }
        });
        
        $('input').change(function() { 
          var name = $(this).attr('name');
          $('#' + name).slider('value', $(this).val().parse(2));
          updateDisplay();
        });
        
        $('select').change(function() { 
          updateDisplay();
        });

        $('input[name=theme]').change(function() { 
          if ($(this).val() == 'clock') {
            $('input[name=pattern]').attr('readonly', 'readonly').css('color', '#999').val('##:##:##');
            $('input[name=value]').attr('readonly', 'readonly').css('color', '#999');
            display.pattern = '##:##:##';
            animate();
          } else if ($(this).val() == 'counter') {
            $('input[name=pattern]').attr('readonly', 'readonly').css('color', '#999').val('#######.#');
            $('input[name=value]').attr('readonly', 'readonly').css('color', '#999');
            display.pattern = '#######.#';
            animate();
          } else if ($(this).val() == 'ticker') {
            $('input[name=pattern]').attr('readonly', 'readonly').css('color', '#999').val('######');
            $('input[name=value]').attr('readonly', 'readonly').css('color', '#999');
            display.pattern = '######';
            animate();
          } else {
            $('input[name=pattern]').removeAttr('readonly').css('color', '#000');
            $('input[name=value]').removeAttr('readonly').css('color', '#000');
          }
          updateSourceCode();
        });
        
        $('input[name=pattern]').keyup(function() { 
          display.pattern = $(this).val();
          display.draw();
        });
        
        $('input[name=value]').keyup(function() { 
          display.value = $(this).val();
          display.draw();
        });
        
        with (sketch) {
          $('select[name=segmentCount]').val(segmentCount);
          $('input[name=segmentCountValue]').val(segmentCount);
          $('select[name=cornerType]').val(cornerType);
          $('input[name=cornerTypeValue]').val(cornerType);
          $('input[name=digitHeight]').val(digitHeight.format(2));
          $('input[name=digitWidth]').val(digitWidth.format(2));
          $('input[name=digitDistance]').val(digitDistance.format(2));
          $('input[name=displayAngle]').val(displayAngle.format(2));
          $('input[name=segmentWidth]').val(segmentWidth.format(2));
          $('input[name=segmentDistance]').val(segmentDistance.format(2));
          $('#digitHeight').slider('value', digitHeight);
          $('#digitWidth').slider('value', digitWidth);
          $('#digitDistance').slider('value', digitDistance);
          $('#displayAngle').slider('value', displayAngle);
          $('#segmentWidth').slider('value', segmentWidth);
          $('#segmentDistance').slider('value', segmentDistance);
        }

        $('input[name=pattern]').val(display.pattern);
        $('input[name=value]').val(display.value);
        
        // reset geometry
        $('#reset').click(function() {
          var isSevenSegment  = $('select[name=segmentCount]').val() === '7';
          var digitHeight     = 20;
          var digitWidth      = isSevenSegment ? 12 : 15;
          var digitDistance   = 2.5;
          var displayAngle    = isSevenSegment ? 10 : 5;
          var segmentWidth    = isSevenSegment ? 2.5 : 2;
          var segmentDistance = isSevenSegment ? 0.5 : 0.1;
          $('#digitHeight').slider('value', digitHeight); 
          $('#digitWidth').slider('value', digitWidth); 
          $('#digitDistance').slider('value', digitDistance); 
          $('#displayAngle').slider('value', displayAngle); 
          $('#segmentWidth').slider('value', segmentWidth); 
          $('#segmentDistance').slider('value', segmentDistance); 
          $('input[name=digitHeight]').val(digitHeight.format(2));
          $('input[name=digitWidth]').val(digitWidth.format(2));
          $('input[name=digitDistance]').val(digitDistance.format(2));
          $('input[name=displayAngle]').val(displayAngle.format(2));
          $('input[name=segmentWidth]').val(segmentWidth.format(2));
          $('input[name=segmentDistance]').val(segmentDistance.format(2));
          updateDisplay();
        });
        
        initColor('background', 36, 30, 30);
        initColor('segmentOn', 233, 93, 15);
        initColor('segmentOff', 75, 30, 5);
        
        // select color sample
        $('.sample').click(function() {
          switch (this.id) {
            case 'sample1': setSampleColors(36, 30, 30, 233, 93, 15, 75, 30, 5); break;
            case 'sample2': setSampleColors(36, 30, 30, 255, 44, 15, 99, 22, 5); break;
            case 'sample3': setSampleColors(36, 30, 30, 36, 221, 34, 27, 65, 5); break;
            case 'sample4': setSampleColors(36, 30, 30, 255, 255, 255, 59, 59, 59); break;
            case 'sample5': setSampleColors(196, 226, 196, 9, 9, 9, 175, 203, 175); break;
            case 'sample6': setSampleColors(226, 226, 226, 9, 9, 9, 200, 200, 200); break;
          } 
        });

        updateSourceCode();
      });
    
      function animate() {
        var theme = $('input[name=theme]:checked').val();
        if (theme == 'clock' || theme == 'counter' || theme == 'ticker') {
          var time    = new Date();
          var hours   = time.getHours();
          var minutes = time.getMinutes();
          var seconds = time.getSeconds();
          var millis  = time.getMilliseconds();
          var value;
          if (theme == 'clock') {
            value = ((hours < 10) ? ' ' : '') + hours + ':' 
                  + ((minutes < 10) ? '0' : '') + minutes + ':' 
                  + ((seconds < 10) ? '0' : '') + seconds;
          } else if (theme == 'counter') {
            var count = seconds + 60 * minutes + 24 * 60 * hours;
            value = count + '.' + Math.floor(millis / 100); 
            value = '      '.substr(0, 9 - value.length) + value;
          } else {
            var text  = '     abcdefghijklmnopqrstuvwxyz     0123456789      ';
            var index = (2 * (seconds + 60 * minutes + 24 * 60 * hours) + Math.floor(millis / 500)) % (text.length - 6);
            value = text.substr(index, 6);
          }
          display.setValue(value);
          $('input[name=value]').val(value);
        } 
      }
      
      function initColor(name, red, green, blue) {
        $('input[name=' + name + 'Red]').val(red);
        $('input[name=' + name + 'Green]').val(green);
        $('input[name=' + name + 'Blue]').val(blue);
        $('#' + name + 'Red').slider('value',  red);
        $('#' + name + 'Green').slider('value', green);
        $('#' + name + 'Blue').slider('value', blue);
      }
      
      function setSampleColors(r1, g1, b1, r2, g2, b2, r3, g3, b3) {
        initColor('background', r1, g1, b1);
        initColor('segmentOn', r2, g2, b2);
        initColor('segmentOff', r3, g3, b3);
        updateBackgroundColor();
        updateSegmentColor('On');
        updateSegmentColor('Off');
        updateDisplay();
      }
      
      function updateDisplay() {
        display.digitHeight     = sketch.digitHeight     = $('input[name=digitHeight]').val().parse(2);
        display.digitWidth      = sketch.digitWidth      = $('input[name=digitWidth]').val().parse(2);
        display.digitDistance   = sketch.digitDistance   = $('input[name=digitDistance]').val().parse(2);
        display.displayAngle    = sketch.displayAngle    = $('input[name=displayAngle]').val().parse(2);
        display.segmentWidth    = sketch.segmentWidth    = $('input[name=segmentWidth]').val().parse(2);
        display.segmentDistance = sketch.segmentDistance = $('input[name=segmentDistance]').val().parse(2);
        display.cornerType      = sketch.cornerType      = $('select[name=cornerType]').val().parse(0);
        display.segmentCount    = sketch.segmentCount    = $('select[name=segmentCount]').val().parse(0);
        display.format          = $('input[name=format]').val();
        display.value           = $('input[name=value]').val();
        $('input[name=cornerTypeValue]').val(display.cornerType);
        $('input[name=segmentCountValue]').val(display.segmentCount);
        refreshSourceCode();
        sketch.draw();
        display.draw();
      }
      
      function updateBackgroundColor() {
        var hexColor = hexFromRGB($('#backgroundRed').slider('value'), 
                                  $('#backgroundGreen').slider('value'), 
                                  $('#backgroundBlue').slider('value'));
        $('#backgroundSwatch').css('background-color', hexColor);
        $('#displayView').css('background-color', hexColor);                         
        refreshSourceCode();
      }
      
      function updateSegmentColor(state) {
        var hexColor = hexFromRGB($('#segment' + state + 'Red').slider('value'), 
                                  $('#segment' + state + 'Green').slider('value'), 
                                  $('#segment' + state + 'Blue').slider('value'));
        $('#segment' + state + 'Swatch').css('background-color', hexColor);
        (state == 'On') ? display.colorOn = hexColor: display.colorOff = hexColor;
        display.draw();
        refreshSourceCode();
      }
       
      function hexFromRGB(red, green, blue) {
        var hex = [red.toString(16), green.toString(16), blue.toString(16)];
        for (var i = 0; i < 3; i++) {
          hex[i] = (hex[i].length == 1) ? '0' + hex[i] : hex[i];
        }
        return '#' + hex.join('');
      }

      function refreshSourceCode(){
        window.setTimeout('updateSourceCode()', 1000);
      }
      
      function updateSourceCode() {
        var onColor  = hexFromRGB($('#segmentOnRed').slider('value'), 
                                  $('#segmentOnGreen').slider('value'), 
                                  $('#segmentOnBlue').slider('value'));
        var offColor = hexFromRGB($('#segmentOffRed').slider('value'), 
                                  $('#segmentOffGreen').slider('value'), 
                                  $('#segmentOffBlue').slider('value'));
        var html ='&lt;!--[if lt IE 9]&gt;\n';
        html += '  &lt;script type="text/javascript" src="excanvas.js"&gt;&lt;/script&gt;\n';
        html += '&lt;![endif]--&gt;\n';
        html += '\n';
        html += '&lt;script type="text/javascript" src="segment-display.js"&gt;&lt;/script&gt;\n';
        html += '&lt;script type="text/javascript"&gt;\n';
        html += '\n';
        html += '  var display = new SegmentDisplay("display");\n';
        html += '  display.pattern         = "' + display.pattern + '";\n';
        html += '  display.displayAngle    = ' + display.displayAngle + ';\n';
        html += '  display.digitHeight     = ' + display.digitHeight + ';\n';
        html += '  display.digitWidth      = ' + display.digitWidth + ';\n';
        html += '  display.digitDistance   = ' + display.digitDistance + ';\n';
        html += '  display.segmentWidth    = ' + display.segmentWidth + ';\n';
        html += '  display.segmentDistance = ' + display.segmentDistance + ';\n';
        html += '  display.segmentCount    = ' + display.segmentCount + ';\n';
        html += '  display.cornerType      = ' + display.cornerType + ';\n';
        html += '  display.colorOn         = "' + onColor + '";\n';
        html += '  display.colorOff        = "' + offColor + '";\n';
        html += '  display.draw();\n';
        html += '\n';
        html += '&lt;/script&gt;\n';
        $('#sourceCode').html(html);
      }

    </script>

  </head>
  
  <body>
    
    <div id="wrapper">  
    
      <div id="page">
        
        <div id="header">
          <h1>
            <span class="home">
              <a href="../../index.html">3Quarks</a>
            </span>
            &raquo; Segment Display
            <span class="language">
              <a href="../../de/Segmentanzeige/index.html">deutsch</a>
            </span>
          </h1>
        </div> <!-- end header -->
                  
        <div class="topic">
          <h2>Overview</h2>
          <div class="body">
            <p>
              Design your own segment display with this Web App. 
              Choose between 7, 14 or 16 segments, experiment with the settings for the geometry, colors and output formats.
            </p>
            <p>
              On the basis of your inputs, the App automatically generates the appropriate <a href="#sourceCode">JavaScript source code</a>. 
              You can copy it <a href="#sourceCode">here</a> and build it directly into your website
            </p>
          </div>
        </div> <!-- end topic -->
        
        <div class="topic">
          <h2>Geometry</h2>
          <div class="body settings">
            <table>
              <tr>
                <td>Segment count</td>
                <td><input type="text" name="segmentCountValue" size="6" style="color: #999" readonly="readonly" /></td>
                <td>
                  <select name="segmentCount" id="segmentCount" size="0">
                    <option value="7">7 segments</option>
                    <option value="14">14 segments</option>
                    <option value="16">16 segments</option>
                  </select>
                </td>
                <td rowspan="8" style="padding-left: 1em">
                  <canvas id="display" width="170" height="180"/>
                </td>
              </tr>
              <tr>
                <td>Segment form</td>
                <td><input type="text" name="cornerTypeValue" size="6" style="color: #999" readonly="readonly" /></td>
                <td>
                  <select name="cornerType" id="cornerType" size="0">
                    <option value="0">Symmetrical segments</option>
                    <option value="1">Flattened corners</option>
                    <option value="2">Pointed corners</option>
                    <option value="3">Rounded corners</option>
                  </select>
                </td>
              </tr>
              <tr>
                <td>Digit height</td>
                <td><input type="text" name="digitHeight" size="6" /></td>
                <td><div class="slider" id="digitHeight"></div></td>
              </tr>
              <tr>
                <td>Digit width</td>
                <td><input type="text" name="digitWidth" size="6" /></td>
                <td><div class="slider" id="digitWidth"></div></td>
              </tr>
              <tr>
                <td>Digit distance</td>
                <td><input type="text" name="digitDistance" size="6" /></td>
                <td><div class="slider" id="digitDistance"></div></td>
              </tr>
              <tr>
                <td>Display angle</td>
                <td><input type="text" name="displayAngle" size="6" /></td>
                <td><div class="slider" id="displayAngle"></div></td>
              </tr>
              <tr>
                <td>Segment width</td>
                <td><input type="text" name="segmentWidth" size="6" /></td>
                <td><div class="slider" id="segmentWidth"></div></td>
              </tr>
              <tr>
                <td>Segment distance</td>
                <td><input type="text" name="segmentDistance" size="6" /></td>
                <td><div class="slider" id="segmentDistance"></div></td>
              </tr>
            </table>
            <div class="section seperator" style="padding-top: 1em">
              <p>
                When playing with the geometry values, – especially with the number of segments, their width and spacing – 
                overmodulation or flaring can easily occur. 
                Though this does create interesting effects, it ends up making the display illegible. 
                One click on “Reset values” sets sensible parameters for the chosen number of segments.
              </p>
              <p style="padding: 1em 0 0 0">
                <button id="reset">Reset values</button>
              </p>
            </div>
          </div>
        </div> <!-- end topic -->
        
        <div class="topic">
          <h2>Colors</h2>
          <div class="body settings">
            <table>
              <tr>
                <td>Segment on</td>
                <td><input type="text" name="segmentOnRed" size="6" /></td>
                <td><div class="slider" id="segmentOnRed"></div></td>
                <td rowspan="3">
                  <div id="segmentOnSwatch" class="swatch" style="background-color: rgb(233, 93, 15)"></div>
                </td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="segmentOnGreen" size="6" /></td>
                <td><div class="slider" id="segmentOnGreen"></div></td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="segmentOnBlue" size="6" /></td>
                <td><div class="slider" id="segmentOnBlue"></div></td>
              </tr>
              <tr>
                <td>Segment off</td>
                <td><input type="text" name="segmentOffRed" size="6" /></td>
                <td><div class="slider" id="segmentOffRed"></div></td>
                <td rowspan="3">
                  <div id="segmentOffSwatch" class="swatch" style="background-color: rgb(75, 30, 5)"></div>
                </td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="segmentOffGreen" size="6" /></td>
                <td><div class="slider" id="segmentOffGreen"></div></td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="segmentOffBlue" size="6" /></td>
                <td><div class="slider" id="segmentOffBlue"></div></td>
              </tr>
              <tr>
                <td>Background color</td>
                <td><input type="text" name="backgroundRed" size="6" /></td>
                <td><div class="slider" id="backgroundRed"></div></td>
                <td rowspan="3">
                  <div id="backgroundSwatch" class="swatch" style="background-color: rgb(36, 30, 30)"></div>
                </td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="backgroundGreen" size="6" /></td>
                <td><div class="slider" id="backgroundGreen"></div></td>
              </tr>
              <tr>
                <td></td>
                <td><input type="text" name="backgroundBlue" size="6" /></td>
                <td><div class="slider" id="backgroundBlue"></div></td>
              </tr>
            </table>
            <div class="section seperator" style="padding-top: 1em">
              <p> 
                The colors set for segments switched on or off are deployed automatically as 
                hexadecimal color specification in the <a href="#sourceCode">source code</a> located further below on this page.
              </p>
              <p>
                Here an added suggestion for several color combinations:
              <p>
                <div>
                  <div id="sample1" class="sample" style="background-color: rgb(36, 30, 30)">
                    <div class="off" style="background-color: rgb(75, 30, 5)">
                      <div class="on" style="background-color: rgb(233, 93, 15)"></div>
                    </div>
                  </div>
                  <div id="sample2" class="sample" style="background-color: rgb(36, 30, 30)">
                    <div class="off" style="background-color: rgb(99, 22, 5)">
                      <div class="on" style="background-color: rgb(255, 44, 15)"></div>
                    </div>
                  </div>
                  <div id="sample3" class="sample" style="background-color: rgb(36, 30, 30)">
                    <div class="off" style="background-color: rgb(27, 65, 5)">
                      <div class="on" style="background-color: rgb(36, 221, 34)"></div>
                    </div>
                  </div>
                  <div id="sample4" class="sample" style="background-color: rgb(36, 30, 30)">
                    <div class="off" style="background-color: rgb(59, 59, 59)">
                      <div class="on" style="background-color: rgb(255, 255, 255)"></div>
                    </div>
                  </div>
                  <div id="sample5" class="sample" style="background-color: rgb(196, 226, 196)">
                    <div class="off" style="background-color: rgb(175, 203, 175)">
                      <div class="on" style="background-color: rgb(9, 9, 9)"></div>
                    </div>
                  </div>
                  <div id="sample6" class="sample" style="background-color: rgb(226, 226, 226)">
                    <div class="off" style="background-color: rgb(200, 200, 200)">
                      <div class="on" style="background-color: rgb(9, 9, 9)"></div>
                    </div>
                  </div>
                </div>
              </p>
            </div>
          </div>
        </div> <!-- end topic -->
        
        <div class="topic">
          <h2>Display</h2>
          <div class="body settings">
            <table>
              <tr>
                <td style="width: 8.5em; vertical-align: top;">Example</td>
                <td>
                  <p>
                    <input type="radio" name="theme" id="themeClock" value="clock" checked="checked"/>
                    <label for="themeClock">Clock</label>
                  </p>
                  <p>
                    <input type="radio" name="theme" id="themeCounter" value="counter"/>
                    <label for="themeCounter">Counter with one decimal place</label>
                  </p>
                  <p>
                    <input type="radio" name="theme" id="themeTicker" value="ticker"/>
                    <label for="themeTicker">Ticker for 14 and 16 segment displays</label>
                  </p>
                  <p>
                    <input type="radio" name="theme" id="themeUser" value="user"/>
                    <label for="themeUser">User format</label>
                  </p>
                </td>
              </tr>
              <tr>
                <td>Pattern</td>
                <td><input type="text" name="pattern" size="30" style="color: #999" readonly="readonly" /></td>
              </tr>
              <tr>
                <td>Value</td>
                <td><input type="text" name="value" size="30" style="color: #999" readonly="readonly" /></td>
              </tr>
            </table>
            <div class="section seperator" style="padding-top: 1em">
              <p>
                The layout for the display is defined via a pattern comprised of a combination of the following characters:
                <table>
                  <tr>
                    <td style="vertical-align: top">'&nbsp;<b>#</b>&nbsp;'</td>
                    <td>
                      Segment display
                      <p style="margin-top: 0.5em">
                        Numerals, hyphenation, underlining and the letters A, b, C, d, E, F, H, L, n, o, P, r, t, U and Y 
                        can be displayed using a seven-segment display. 
                        In addition to numbers, brief texts such as “Error”, “HELP”, “run” or “PLAY” can be displayed, too.
                      </p>
                      <p>
                        With fourteen and sixteen-segment displays, numerals, all Latin capital letters 
                        and the special characters +, -, &times;, /, =, \, $ and @ can be depicted.
                      </p>
                      <p>
                        Using the sixteen-segment display, the special characters % and ° can be displayed as well.
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td>'&nbsp;<b>.</b>&nbsp;'</td>
                    <td>Period</td>
                  </tr>
                  <tr>
                    <td>'&nbsp;<b>:</b>&nbsp;'</td>
                    <td>Colon</td>
                  </tr>
                  <tr>
                    <td>'&nbsp; &nbsp;'</td>
                    <td>Blank space and/or double character spacing</td>
                  </tr>
                </table>
              </p>
              <p>
                For instance, the pattern <b>##:##:##</b> can be used to display the time. 
                By doing so, two slots apiece are respectively reserved for hours, minutes and seconds, 
                and these blocks are separated from each other by a colon.
              </p>
              <p>
                The display is then driven by transferring a character string termed the ‘value’ here. 
                The characters in the value are compared with the pattern going from left to right. 
                If a character fits the pattern, for example the character 'A' for the pattern '#', then this character is displayed. 
                Otherwise the corresponding element remains dark. 
                If the value '#' is transferred for a character, then all of the segments light up.
              </p>
              <p>
                Example: As described above, the 8-digit pattern <b>##:##:##</b> is used for the clock.
                If the colons are supposed to light up, then a colon must be transferred onto the third and sixth digits within the value, too. 
                If they are supposed to remain dark, then some other character has to stand in these positions. 
                In the case of single-digit hours (0 to 9 a.m.), unlike the minutes and seconds, no preceding zero is displayed. 
                In this case, that’s why there is a blank space at the first digit of the value.
              </p>
              <p>
                It sounds more complicated than it is. Just give it a try.
              </p>
            </div>
          </div>
        </div> <!-- end topic -->
        
        <div class="topic">
          <h2>JavaScript</h2>
          <div class="body">
            <p>
              The segment display shown to the right has been realized using JavaScript and the &lt;canvas&gt; tag. 
              This tag is an integral component of HTML 5 and is supported by all modern browsers; unfortunately, 
              Internet Explorer up to Version 8 is not among them. 
              To make the &lt;canvas&gt; tag usable for Internet Explorer users, 
              the open source project <a href="http://code.google.com/p/explorercanvas/">explorercanvas</a> at least makes the basic functions 
              available with the help of a small JavaScript library.
            </p>
            <p>
              The following describes how you can integrate the segment display into your HTML pages. 
              All you need to accomplish this is the JavaScript class seven-segment-display and, 
              if you want give consideration to Internet Explorer users as well, the explorercanvas JavaScript library. 
            </p>
            <h3>Integration into the HTML document</h3>
            <p>
              Like any other HTML tag, the &lt;canvas&gt; tag is declared and recognizes the 3 attributes id, width and height. 
              Issue an id that makes sense – "display" for instance – and any width and height desired for the element. 
              The display is centered within the &lt;canvas&gt; tag, its size is adapted appropriately. 
              If a browser is unable to depict the segment display, the included text is shown to the user.
             </p>
            <pre>
&lt;canvas id="display" width="260" height="140"&gt;
  Your browser is unfortunately not supported.
&lt;/canvas&gt;
            </pre>
            <h3 name="sourceCode">JavaScript Code</h3>
            <p>
              The JavaScript Code below is automatically generated from the settings for the sections “Geometry”, “Colors” and “Display”. 
              This way you can design your own segment display, then afterwards simply copy the source code generated.
            </p>
            <p>
              The first 3 lines are of interest only for Internet Explorer up to Version 8. 
              You integrate the JavaScript library <b>excanvas.js</b> via a Conditional Comment; 
              other browsers ignore this instruction.
            </p>
            <p>
              The script assumes that the two JavaScript libraries <b>seven-segment-display.js</b> and <b>excanvas.js</b> 
              are located in the same directory as the HTML page with the &lt;canvas&gt; tag. 
              If this is not the case with you, then you have to change both path specifications appropriately.
            </p>
            <p>
              The script furthermore assumes that you are using the name display as the &lt;canvas&gt; <b>id</b> on the HTML page, 
              as was the case in the abovementioned example. 
              If you prefer another <b>id</b>, then you have to adapt the source code here, too.
            </p>
            <pre id="sourceCode">
            </pre>
            <p>
              Once all this has been done, the segment display is initialized and merely displays the switched-off segments at first. 
              The characters and/or segments can now be set using the function <b>setValue(value)</b>.
            </p>
            <pre>
  display.setValue('12:34:56');
            </pre>
            <p>
              The digital clock to the right can be written equally quickly. 
              To do this, the function <b>animate()</b> is activated every 100 milliseconds. 
              This function generates a new JavaScript object, <b>Date</b>, which is initialized using the current date and time. 
              Hours, minutes and seconds are subsequently read out, 
              prepared for the format <b>##:##:##</b> and transferred to the segment display via <b>display.setValue(value)</b>. 
              The clock is now up and running.
            </p>
            <pre>
  window.setInterval('animate()', 100);
  
  function animate() {
    var time    = new Date();
    var hours   = time.getHours();
    var minutes = time.getMinutes();
    var seconds = time.getSeconds();
    var value   = ((hours < 10) ? ' ' : '') + hours
                + ':' + ((minutes < 10) ? '0' : '') + minutes
                + ':' + ((seconds < 10) ? '0' : '') + seconds;
    display.setValue(value);
  }
            </pre>
            <p>
              Another bit of advice: 
              This page integrates the JavaScript framework jQuery and uses this intensely. 
              As a result, the HTML source code for this page is not readily understandable for one and all. 
              On the other hand, the JavaScript segment display does not depend on jQuery 
              and can be used with every other JavaScript framework, or even without one like it.
            </p>
            <h3>Download and Terms of Licensing</h3>
            <p>
              The two JavaScript files <b>segment-display.js</b> and <b>excanvas.js</b> along 
              with an example of an HTML page are compiled here for downloading in a ZIP file:
            </p>
            <ul style="padding: 0 0 0.5em 0.5em; list-style-type: none">
              <li><a href="../../downloads/SegmentDisplay.zip">SegmentDisplay</a> 
                <span style="color: #999">(21 kByte, zipped)</span></li>
            </ul>
            <p>
              The script is governed by the  
              <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons 3.0 Lizenz</a>.
              and may be used freely for private and commercial purposes. 
              I would be glad if reference is made to the author or if a link to this website is posted.
            </p>
          </div>
        </div> <!-- end topic -->
        
        <div id="footer">
          <p>3Quarks &raquo; Segment Display, Rüdiger Appel, June 2012</p>
        </div>
        
      </div> <!-- end page -->
      
      <div id="sidebar">
        <div class="content">
          <div id="displayView" class="topic" style="background-color: rgb(36, 30, 30); border: 3px solid #999; width: 300px; height: 188px;">
            <div style="padding:20px">
              <canvas id="display" width="260" height="140"/> 
            </div>
          </div>
        </div>
      </div> <!-- end sidebar -->
              
    </div> <!-- end wrapper -->
    
  </body>

</html>

